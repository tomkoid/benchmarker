<!DOCTYPE html>
<html lang="cs">
<meta author="Jakub Kl√°≈°terka, V√°clav Pa≈°ek, Tom√°≈° Zierl, Tade√°≈° Pokora, ≈†tƒõp√°n ≈Ω√≠tek">
<head>
    <meta charset="UTF-8">
    <title>UtilBench</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="container">
<header>
  <nav>
    <a href="#" onclick="event.preventDefault(); navigateTo('home')">Dom≈Ø</a>
    <a href="#" onclick="event.preventDefault(); navigateTo('kategorie')">Kategorie</a>
    <a href="#" onclick="event.preventDefault(); navigateTo('o-projektu')">O projektu</a>
  </nav>
</header>
<main>
<!-- ============ DOM≈Æ PAGE ============ -->
<div id="home" class="page">
    <section class="hero">
        <h1>Vyber si spot≈ôebiƒç chyt≈ôe</h1>
        <p>Porovn√°n√≠ v√Ωkonu, ceny a spolehlivosti bez zbyteƒçn√Ωch recenz√≠</p>
    </section>
    <div class="global-search-bar">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Vyhledat produkty...">
        <div id="searchResults"></div>
      </div>
    </div>
    <section class="categories">
        <h2>Kategorie</h2>
        <div class="category-grid">
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/kitchen-category.png" alt="Kuchy≈à" class="category-image"> Kuchy≈à
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('kuchyn');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mikrovlnky');" class="subcategory">Mikrovlnky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('trouba');" class="subcategory">Trouby</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('lednice');" class="subcategory">Lednice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('varnedeska');" class="subcategory">Varn√© desky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('myckanadobi');" class="subcategory">Myƒçky n√°dob√≠</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('kavorny');" class="subcategory">K√°vovary</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('fritezy');" class="subcategory">Frit√©zy</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mixery');" class="subcategory">Mix√©ry</a>
                </div>
            </div>
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/bathroom-category.png" alt="Koupelna" class="category-image"> Koupelna
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('koupelna');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('pracky');" class="subcategory">Praƒçky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('ohrivac');" class="subcategory">Oh≈ô√≠vaƒçe vody</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('ventilator');" class="subcategory">Ventil√°tory</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('susicka');" class="subcategory">Su≈°iƒçky pr√°dla</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('sprchovka');" class="subcategory">Sprchov√© hlavice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('toaleta');" class="subcategory">Toaletn√≠ prk√©nka</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('odsavac');" class="subcategory">Odsavaƒçe par</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('zrcadlo');" class="subcategory">Zrcadla s osvƒõtlen√≠m</a>
                </div>
            </div>
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/computer-category.png" alt="Poƒç√≠taƒçe" class="category-image"> Poƒç√≠taƒçe
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('pocitace');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('cpu');" class="subcategory">CPU</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('gpu');" class="subcategory">GPU</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('component');" class="subcategory">Komponenty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('keyboard');" class="subcategory">Kl√°vesnice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mouse');" class="subcategory">My≈°i</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('monitor');" class="subcategory">Monitory</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('laptop');" class="subcategory">Notebooky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('desktop');" class="subcategory">Stoln√≠ poƒç√≠taƒçe</a>
                </div>
            </div>
        </div>
    </section>
    <section class="recommended">
      <h2 style="margin-top:30px;">Doporuƒçen√©</h2>
      <div id="recommended-products" class="products-container"></div>
    </section>
    <section class="benchmark" id="benchmark-home">
        <!-- Produkty se dynamicky naƒç√≠taj√≠ z script.js -->
    </section>
</div>
<!-- ============ KATEGORIE PAGE ============ -->
<div id="kategorie" class="page">
    <section class="hero">
        <h1>Kategorie</h1>
        <p>Vyberte kategorii a porovn√°vejte spot≈ôebiƒçe</p>
    </section>
    <section class="categories">
        <div class="category-grid">
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/kitchen-category.png" alt="Kuchy≈à" class="category-image"> Kuchynƒõ           
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('kuchyn');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mikrovlnky');" class="subcategory">Mikrovlnky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('trouba');" class="subcategory">Trouby</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('lednice');" class="subcategory">Lednice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('varnedeska');" class="subcategory">Varn√© desky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('myckanadobi');" class="subcategory">Myƒçky n√°dob√≠</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('kavorny');" class="subcategory">K√°vovary</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('fritezy');" class="subcategory">Frit√©zy</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mixery');" class="subcategory">Mix√©ry</a>
                </div>
            </div>
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/bathroom-category.png" alt="Koupelna" class="category-image"> Koupelna
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('koupelna');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('pracky');" class="subcategory">Praƒçky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('ohrivac');" class="subcategory">Oh≈ô√≠vaƒçe vody</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('ventilator');" class="subcategory">Ventil√°tory</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('susicka');" class="subcategory">Su≈°iƒçky pr√°dla</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('sprchovka');" class="subcategory">Sprchov√© hlavice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('toaleta');" class="subcategory">Toaletn√≠ prk√©nka</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('odsavac');" class="subcategory">Odsavaƒçe par</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('zrcadlo');" class="subcategory">Zrcadla s osvƒõtlen√≠m</a>
                </div>
            </div>
            <div class="category-item">
                <div class="category" onclick="toggleCategory(this)">
                    <img src="images/computer-category.png" alt="Poƒç√≠taƒçe" class="category-image"> Poƒç√≠taƒçe
                    <span class="toggle">‚ñº</span>
                </div>
                <div class="subcategories">
                    <a href="#" onclick="event.preventDefault(); navigateTo('pocitace');" class="subcategory">V≈°echny produkty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('cpu');" class="subcategory">CPU</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('gpu');" class="subcategory">GPU</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('component');" class="subcategory">Komponenty</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('keyboard');" class="subcategory">Kl√°vesnice</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('mouse');" class="subcategory">My≈°i</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('monitor');" class="subcategory">Monitory</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('laptop');" class="subcategory">Notebooky</a>
                    <a href="#" onclick="event.preventDefault(); navigateTo('desktop');" class="subcategory">Stoln√≠ poƒç√≠taƒçe</a>
                </div>
            </div>
        </div>
    </section>
</div>
<!-- ============ O PROJEKTU PAGE ============ -->
<div id="o-projektu" class="page">
    <section class="hero">
        <h1>O projektu</h1>
        <p>N√°stroj pro inteligentn√≠ porovn√°v√°n√≠ dom√°c√≠ch spot≈ôebiƒç≈Ø</p>
    </section>
    <section class="about">
        <div class="about-content">
            <h2>Co je UtilBench?</h2>
            <p>UtilBench je online platforma zamƒõ≈ôen√° na porovn√°v√°n√≠ dom√°c√≠ch spot≈ôebiƒç≈Ø. 
               Na≈°√≠m c√≠lem je pomoci v√°m vybrat si ten spr√°vn√Ω spot≈ôebiƒç na z√°kladƒõ skuteƒçn√Ωch parametr≈Ø, ceny a spolehlivosti ‚Äì bez zbyteƒçn√Ωch a zav√°dƒõj√≠c√≠ch recenz√≠.</p>
            
            <h2>Na≈°e mise</h2>
            <p>Chceme demystifikovat n√°kup dom√°c√≠ch spot≈ôebiƒç≈Ø. M√≠sto dlouh√Ωch text≈Ø pln√Ωch subjektivn√≠ch n√°zor≈Ø v√°m poskytujeme p≈ôesn√° data, benchmark testy a porovn√°n√≠ na jednom m√≠stƒõ.</p>
            
            <h2>Jak to funguje?</h2>
            <ul>
                <li><strong>V√Ωbƒõr kategorie:</strong> Zvolte si kategorii spot≈ôebiƒçe (Kuchy≈à, Koupelna, atd.)</li>
                <li><strong>Porovn√°n√≠ produkt≈Ø:</strong> Pod√≠vejte se na konkr√©tn√≠ produkty a jejich parametry</li>
                <li><strong>Snadn√© rozhodnut√≠:</strong> V≈°echna data jsou v p≈ôehledn√© tabulce</li>
                <li><strong>N√°kup:</strong> P≈ô√≠m√Ω odkaz na ovƒõ≈ôen√© obchody</li>
            </ul>
            
            <h2>Autor a t√Ωm</h2>
            <p><strong>Tv≈Ørci projektu:</strong></p>
            <ul>
                <li>Jakub Kl√°≈°terka</li>
                <li>V√°clav Pa≈°ek</li>
                <li>Tom√°≈° Zierl</li>
            </ul>
            <h2>Kontakt</h2>
            <p>M√°te n√°vrhy nebo p≈ôipom√≠nky? R√°di je sly≈°√≠me!</p>
            <p><strong>Email:</strong></p>
        </div>
    </section>
</div>
<!-- ============ PRODUKTY PAGES ============ -->
<!-- KUCHY≈á -->
<div id="kuchyn" class="page">
    <section class="hero">
        <h1>üçΩÔ∏è Kuchy≈à</h1>
        <p>Porovn√°n√≠ spot≈ôebiƒç≈Ø do kuchynƒõ</p>
    </section>
    <section class="benchmark" id="benchmark-kuchyn"></section>
</div>
<!-- MIKROVLNKY -->
<div id="mikrovlnky" class="page">
    <section class="hero">
        <h1>Mikrovlnky</h1>
        <p>Porovn√°n√≠ mikrovlnn√Ωch trou–±</p>
    </section>
    <section class="benchmark" id="benchmark-mikrovlnky"></section>
</div>
<!-- TROUBA -->
<div id="trouba" class="page">
    <section class="hero">
        <h1>Trouby</h1>
        <p>Porovn√°n√≠ elektrick√Ωch trub</p>
    </section>
    <section class="benchmark" id="benchmark-trouba"></section>
</div>
<!-- LEDNICE -->
<div id="lednice" class="page">
    <section class="hero">
        <h1>Lednice</h1>
        <p>Porovn√°n√≠ chladiƒç≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-lednice"></section>
</div>
<!-- VARNEDESKA -->
<div id="varnedeska" class="page">
    <section class="hero">
        <h1>Varn√© desky</h1>
        <p>Porovn√°n√≠ varn√Ωch desek</p>
    </section>
    <section class="benchmark" id="benchmark-varnedeska"></section>
</div>
<!-- MYCKANADOBI -->
<div id="myckanadobi" class="page">
    <section class="hero">
        <h1>Myƒçky n√°dob√≠</h1>
        <p>Porovn√°n√≠ myƒçek n√°dob√≠</p>
    </section>
    <section class="benchmark" id="benchmark-myckanadobi"></section>
</div>
<!-- KAVORNY -->
<div id="kavorny" class="page">
    <section class="hero">
        <h1>K√°vovary</h1>
        <p>Porovn√°n√≠ k√°voven</p>
    </section>
    <section class="benchmark" id="benchmark-kavorny"></section>
</div>
<!-- FRITEZY -->
<div id="fritezy" class="page">
    <section class="hero">
        <h1>Frit√©zy</h1>
        <p>Porovn√°n√≠ frit√©z</p>
    </section>
    <section class="benchmark" id="benchmark-fritezy"></section>
</div>
<!-- MIXERY -->
<div id="mixery" class="page">
    <section class="hero">
        <h1>Mix√©ry</h1>
        <p>Porovn√°n√≠ mix√©r≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-mixery"></section>
</div>
<!-- KOUPELNA -->
<div id="koupelna" class="page">
    <section class="hero">
        <h1>üöø Koupelna</h1>
        <p>Porovn√°n√≠ spot≈ôebiƒç≈Ø do koupelny</p>
    </section>
    <section class="benchmark" id="benchmark-koupelna"></section>
</div>
<!-- PRACKY -->
<div id="pracky" class="page">
    <section class="hero">
        <h1>Praƒçky</h1>
        <p>Porovn√°n√≠ prac√≠ch stroj≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-pracky"></section>
</div>
<!-- OHRIVAC -->
<div id="ohrivac" class="page">
    <section class="hero">
        <h1>Oh≈ô√≠vaƒçe vody</h1>
        <p>Porovn√°n√≠ oh≈ô√≠vaƒç≈Ø vody</p>
    </section>
    <section class="benchmark" id="benchmark-ohrivac"></section>
</div>
<!-- VENTILATOR -->
<div id="ventilator" class="page">
    <section class="hero">
        <h1>Ventil√°tory</h1>
        <p>Porovn√°n√≠ ventil√°tor≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-ventilator"></section>
</div>
<!-- SUSICKA -->
<div id="susicka" class="page">
    <section class="hero">
        <h1>Su≈°iƒçky pr√°dla</h1>
        <p>Porovn√°n√≠ su≈°iƒçek pr√°dla</p>
    </section>
    <section class="benchmark" id="benchmark-susicka"></section>
</div>
<!-- SPRCHOVKA -->
<div id="sprchovka" class="page">
    <section class="hero">
        <h1>Sprchov√© hlavice</h1>
        <p>Porovn√°n√≠ sprchov√Ωch hlavic</p>
    </section>
    <section class="benchmark" id="benchmark-sprchovka"></section>
</div>
<!-- TOALETA -->
<div id="toaleta" class="page">
    <section class="hero">
        <h1>Toaletn√≠ prk√©nka</h1>
        <p>Porovn√°n√≠ toaletn√≠ch prk√©nek</p>
    </section>
    <section class="benchmark" id="benchmark-toaleta"></section>
</div>
<!-- ODSAVAC -->
<div id="odsavac" class="page">
    <section class="hero">
        <h1>Odsavaƒçe par</h1>
        <p>Porovn√°n√≠ odsavaƒç≈Ø par</p>
    </section>
    <section class="benchmark" id="benchmark-odsavac"></section>
</div>
<!-- ZRCADLO -->
<div id="zrcadlo" class="page">
    <section class="hero">
        <h1>Zrcadla s osvƒõtlen√≠m</h1>
        <p>Porovn√°n√≠ zrcadel s osvƒõtlen√≠m</p>
    </section>
    <section class="benchmark" id="benchmark-zrcadlo"></section>
</div>
<!-- POCITACE -->
<div id="pocitace" class="page">
    <section class="hero">
        <h1>üíª Poƒç√≠taƒçe</h1>
        <p>Porovn√°n√≠ poƒç√≠taƒç≈Ø a komponent</p>
    </section>
    <section class="benchmark" id="benchmark-pocitace"></section>
</div>
<!-- CPU -->
<div id="cpu" class="page">
    <section class="hero">
        <h1>Procesory (CPU)</h1>
        <p>Porovn√°n√≠ procesor≈Ø ze v≈°ech v√Ωrobc≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-cpu"></section>
</div>
<!-- GPU -->
<div id="gpu" class="page">
    <section class="hero">
        <h1>Grafick√© karty (GPU)</h1>
        <p>Porovn√°n√≠ grafick√Ωch karet</p>
    </section>
    <section class="benchmark" id="benchmark-gpu"></section>
</div>
<!-- COMPONENT -->
<div id="component" class="page">
    <section class="hero">
        <h1>Komponenty</h1>
        <p>Porovn√°n√≠ poƒç√≠taƒçov√Ωch komponent</p>
    </section>
    <section class="benchmark" id="benchmark-component"></section>
</div>
<!-- KEYBOARD -->
<div id="keyboard" class="page">
    <section class="hero">
        <h1>Kl√°vesnice</h1>
        <p>Porovn√°n√≠ kl√°vesnic</p>
    </section>
    <section class="benchmark" id="benchmark-keyboard"></section>
</div>
<!-- MOUSE -->
<div id="mouse" class="page">
    <section class="hero">
        <h1>My≈°i</h1>
        <p>Porovn√°n√≠ poƒç√≠taƒçov√Ωch my≈°√≠</p>
    </section>
    <section class="benchmark" id="benchmark-mouse"></section>
</div>
<!-- MONITOR -->
<div id="monitor" class="page">
    <section class="hero">
        <h1>Monitory</h1>
        <p>Porovn√°n√≠ monitor≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-monitor"></section>
</div>
<!-- LAPTOP -->
<div id="laptop" class="page">
    <section class="hero">
        <h1>Notebooky</h1>
        <p>Porovn√°n√≠ notebook≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-laptop"></section>
</div>
<!-- DESKTOP -->
<div id="desktop" class="page">
    <section class="hero">
        <h1>Stoln√≠ poƒç√≠taƒçe</h1>
        <p>Porovn√°n√≠ stoln√≠ch poƒç√≠taƒç≈Ø</p>
    </section>
    <section class="benchmark" id="benchmark-desktop"></section>
</div>
<footer>
    <p>¬© 2026 UTIL-BENCH</p>
</footer>
</main>
</div>
<script>
// ============ SINGLE PAGE APP NAVIGATION ============
// API URLs
const API_URL = 'https://utilbench-api.tomkoid.cz/api/v1/products';
const CATEGORIES_API_URL = 'https://utilbench-api.tomkoid.cz/api/v1/categories';
let products = [];
let categories = [];
let currentPage = 'home';
// Mapov√°n√≠ page ID na kategorie a tagy pro filtraci
const pageConfigMap = {
  'cpu': { categoryIds: [1], tag: 'cpu' },
  'gpu': { categoryIds: [1], tag: 'gpu' },
  'component': { categoryIds: [1], tag: 'component' },
  'keyboard': { categoryIds: [1], tag: 'keyboard' },
  'mouse': { categoryIds: [1], tag: 'mouse' },
  'monitor': { categoryIds: [1], tag: 'monitor' },
  'laptop': { categoryIds: [1], tag: 'laptop' },
  'desktop': { categoryIds: [1], tag: 'desktop' },
  'pocitace': { categoryIds: [1], tag: null },
  'mikrovlnky': { categoryIds: [4], tag: 'microwave' },
  'trouba': { categoryIds: [4], tag: 'oven' },
  'lednice': { categoryIds: [4], tag: 'fridge' },
  'varnedeska': { categoryIds: [4], tag: 'cooktop' },
  'myckanadobi': { categoryIds: [4], tag: 'dishwasher' },
  'kavorny': { categoryIds: [4], tag: 'coffee' },
  'fritezy': { categoryIds: [4], tag: 'fryer' },
  'mixery': { categoryIds: [4], tag: 'mixer' },
  'kuchyn': { categoryIds: [4], tag: null },
  'pracky': { categoryIds: [2], tag: 'washer' },
  'ohrivac': { categoryIds: [2], tag: 'heater' },
  'ventilator': { categoryIds: [2], tag: 'fan' },
  'susicka': { categoryIds: [2], tag: 'dryer' },
  'sprchovka': { categoryIds: [2], tag: 'shower' },
  'toaleta': { categoryIds: [2], tag: 'toilet' },
  'odsavac': { categoryIds: [2], tag: 'extractor' },
  'zrcadlo': { categoryIds: [2], tag: 'mirror' },
  'koupelna': { categoryIds: [2], tag: null }
};
// Naviguj na novou str√°nku
function navigateTo(pageId) {
  try {
    // Skryj v≈°echny str√°nky
    document.querySelectorAll('.page').forEach(page => {
      page.style.display = 'none';
      page.classList.remove('active');
    });
    
    // Zobraz vybranou str√°nku
    const page = document.getElementById(pageId);
    if (page) {
      page.style.display = 'block';
      page.classList.add('active');
      currentPage = pageId;
      
      // Naƒçti produkty pro tuto str√°nku
      if (pageId !== 'home' && pageId !== 'kategorie' && pageId !== 'o-projektu') {
        loadProductsForPage(pageId);
      }
      
      // Oƒçisti search input
      const searchInput = document.getElementById('searchInput');
      if (searchInput) {
        searchInput.value = '';
      }
    } else {
      console.error('Str√°nka nenalezena:', pageId);
    }
    
    // Zkroluj na zaƒç√°tek
    window.scrollTo(0, 0);
  } catch (error) {
    console.error('Chyba v navigateTo:', error);
  }
}
// Filtruj produkty podle str√°nky a zobraz je
function loadProductsForPage(pageId) {
  const benchmarkId = 'benchmark-' + pageId;
  const benchmarkSection = document.getElementById(benchmarkId);
  
  if (!benchmarkSection) {
    console.warn('Benchmark section nenalezen:', benchmarkId);
    return;
  }
  
  const config = pageConfigMap[pageId];
  if (!config) {
    benchmarkSection.innerHTML = '<p>≈Ω√°dn√© produkty nenalezeny.</p>';
    return;
  }
  
  const { categoryIds, tag } = config;
  
  if (!products || products.length === 0) {
    benchmarkSection.innerHTML = '<h2>Benchmark ‚Äì Porovn√°n√≠ Produkt≈Ø</h2><p>Naƒç√≠t√°m produkty...</p>';
    console.log('Produkty je≈°tƒõ nejsou naƒçteny, znovu se pokou≈°√≠m...');
    // Znovu se pokus naƒç√≠st produkty
    loadProducts().then(() => {
      loadProductsForPage(pageId);
    });
    return;
  }
  
  let filtered = products.filter(product => {
    if (product.category_id === null || product.category_id === undefined) return false;
    return categoryIds.includes(Number(product.category_id));
  });
  
  // Filtruj podle tagu, pokud existuje
  if (tag) {
    filtered = filtered.filter(product => {
      if (!product.tag) return false;
      const tagLower = tag.toLowerCase();
      const productTag = product.tag.toLowerCase();
      // Povolit i mno≈æn√© ƒç√≠slo (nap≈ô. CPUs, Microwaves)
      return (
        productTag === tagLower ||
        productTag === tagLower + 's' ||
        productTag === tagLower + 'es' ||
        productTag.includes(tagLower) ||
        productTag.includes(tagLower + 's') ||
        productTag.includes(tagLower + 'es')
      );
    });
  }
  
  displayBenchmarkForPage(benchmarkSection, filtered);
}
// Zobraz produkty v benchmark sekci
function displayBenchmarkForPage(section, data) {
  section.innerHTML = '<h2>Benchmark ‚Äì Porovn√°n√≠ Produkt≈Ø</h2><div class="products-container"></div>';
  const container = section.querySelector('.products-container');
  
  if (!data || data.length === 0) {
    section.innerHTML += '<p>≈Ω√°dn√© produkty nenalezeny.</p>';
    return;
  }
  
  data.forEach(product => {
    const card = document.createElement('div');
    card.className = 'card';
    
    // P≈ô√≠prava fotky - Hled√° fotku podle ID produktu (image-{id}.jpg)
    let imageHTML = '';
    const productId = product.id || product.product_id;
    let imageUrl = null;
    
    // Zkus√≠ hledat fotku s n√°zvem: image-{id}.jpg
    if (productId) {
      imageUrl = `images/image-${productId}.jpg`;
    }
    
    if (imageUrl) {
      imageHTML = `<div class="card-image-small"><img src="${imageUrl}" alt="${product.name}" onerror="this.parentElement.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'"></div>`;
    } else {
      // Pr√°zdn√° gradient plocha
      imageHTML = `<div class="card-image-small"></div>`;
    }
    
    let specsHTML = '';
    if (product.specifications && typeof product.specifications === 'object') {
      specsHTML = '<div class="card-specs"><table>';
      for (const [key, value] of Object.entries(product.specifications)) {
        specsHTML += `<tr><th>${key}</th><td>${value}</td></tr>`;
      }
      specsHTML += '</table></div>';
    }
    
    const categoryName = product.category_name || 'Ostatn√≠';
    
    card.innerHTML = `
      <div class="card-header">
        ${imageHTML}
        <h3>${product.name}</h3>
      </div>
      <div class="card-body">
        <p class="category-badge">${categoryName}</p>
        ${specsHTML}
        <button class="compare-btn" data-product-name="${encodeURIComponent(product.name)}">Porovnat</button>
      </div>
    `;
    container.appendChild(card);
  });
  // P≈ôidat event listenery na tlaƒç√≠tka Porovnat
  section.querySelectorAll('.compare-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const name = decodeURIComponent(this.getAttribute('data-product-name'));
      const isActive = this.classList.contains('active');
      if (isActive) {
        removeFromCompare(name);
        this.classList.remove('active');
        this.textContent = 'Porovnat';
      } else {
        addToCompare(name);
        this.classList.add('active');
        this.textContent = 'Odebrat z porovn√°n√≠';
      }
    });
  });
// Odebrat produkt z porovn√°n√≠
function removeFromCompare(name) {
  const list = document.getElementById('compare-list');
  if (!list) return;
  const ul = list.querySelector('.compare-ul');
  if (!ul) return;
  [...ul.children].forEach(li => {
    if (li.textContent === name) li.remove();
  });
  // Pokud je seznam pr√°zdn√Ω, odstran√≠me cel√Ω blok
  if (ul.children.length === 0) list.remove();
}
}
// P≈ôidat produkt do seznamu porovn√°n√≠ v menu
function addToCompare(name) {
  let list = document.getElementById('compare-list');
  if (!list) {
    // Pokud seznam neexistuje, vytvo≈ô ho v menu
    const sidebar = document.querySelector('header');
    list = document.createElement('div');
    list.id = 'compare-list';
    list.innerHTML = '<div class="compare-title">Porovn√°n√≠:</div><ul class="compare-ul"></ul>';
    sidebar.appendChild(list);
  }
  const ul = list.querySelector('.compare-ul');
  // Zamezit duplicit√°m
  if ([...ul.children].some(li => li.textContent === name)) return;
  const li = document.createElement('li');
  li.textContent = name;
  ul.appendChild(li);
  // Pokud jsou vybr√°ny dva produkty, otev≈ôi compare.html s parametry
  if (ul.children.length === 2) {
    const selected = [...ul.children].map(li => encodeURIComponent(li.textContent));
    const url = `compare.html?product1=${selected[0]}&product2=${selected[1]}`;
    window.open(url, '_blank');
  }
}
// Rozbal/sbal kategorie
function toggleCategory(element) {
  try {
    const subcategories = element.nextElementSibling;
    const toggle = element.querySelector('.toggle');
    
    if (subcategories && toggle) {
      subcategories.classList.toggle('open');
      toggle.textContent = subcategories.classList.contains('open') ? '‚ñ≤' : '‚ñº';
    }
  } catch (error) {
    console.error('Chyba v toggleCategory:', error);
  }
}
// Naƒçti kategorie z API
async function loadCategories() {
  try {
    console.log('Naƒç√≠t√°m kategorie z API:', CATEGORIES_API_URL);
    const response = await fetch(CATEGORIES_API_URL);
    
    if (!response.ok) {
      throw new Error(`Chyba API: ${response.status}`);
    }
    
    const data = await response.json();
    categories = data.categories || data;
    console.log('Kategorie naƒçteny:', categories);
  } catch (error) {
    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ kategori√≠:', error);
  }
}
// Naƒçti a zobraz produkty ze serveru
async function loadProducts() {
  try {
    console.log('Naƒç√≠t√°m data z API:', API_URL);
    const response = await fetch(API_URL);
    
    if (!response.ok) {
      throw new Error(`Chyba API: ${response.status}`);
    }
    
    const data = await response.json();
    products = data.products || data;
    console.log('Data naƒçtena:', products);
    console.log('Poƒçet produkt≈Ø:', products.length);
  } catch (error) {
    console.error('Chyba p≈ôi naƒç√≠t√°n√≠ dat:', error);
    console.log('Pokud je API nedostupn√°, aplikace p≈ôesto funguje. Otev≈ôete konzoli (F12) pro v√≠ce detail≈Ø.');
  }
}
// Filtruj a zobraz produkty podle vyhled√°vac√≠ho dotazu - HLED√Å VE V≈†ECH PRODUKTECH
function filterAndDisplay(query) {
  const benchmarkId = 'benchmark-' + currentPage;
  const benchmarkSection = document.getElementById(benchmarkId);
  
  if (!benchmarkSection) return;
  
  // Pokud je pr√°zdn√Ω dotaz, zobraz produkty aktu√°ln√≠ str√°nky
  if (!query.trim()) {
    if (currentPage !== 'home' && currentPage !== 'kategorie' && currentPage !== 'o-projektu') {
      loadProductsForPage(currentPage);
    }
    return;
  }
  
  // Hledej ve V≈†ECH produktech bez ohledu na aktu√°ln√≠ str√°nku
  const filtered = products.filter(p => 
    (p.name && p.name.toLowerCase().includes(query.toLowerCase())) ||
    (p.category_name && p.category_name.toLowerCase().includes(query.toLowerCase())) ||
    (p.tag && p.tag.toLowerCase().includes(query.toLowerCase()))
  );
  
  displayBenchmarkForPage(benchmarkSection, filtered);
}
// Inicializace
document.addEventListener('DOMContentLoaded', async () => {
  console.log('Inicializuji SPA aplikaci...');
  await loadCategories();
  await loadProducts();
  
  const searchInput = document.getElementById('searchInput');
  if (searchInput) {
    searchInput.addEventListener('input', (e) => {
      filterAndDisplay(e.target.value);
    });
  }
  
  // Naƒçti domovskou str√°nku
  navigateTo('home');
  // === DOPORUƒåEN√â PRODUKTY ===
  function renderRecommended(products) {
    const container = document.getElementById('recommended-products');
    if (!container) return;
    container.innerHTML = '';
    // Vyber n√°hodnƒõ 3 r≈Øzn√© produkty
    const shuffled = products.slice().sort(() => 0.5 - Math.random());
    const selected = shuffled.slice(0, 3);
    selected.forEach(product => {
      const card = document.createElement('div');
      card.className = 'card';
      let imageUrl = '';
      const productId = product.id || product.product_id;
      if (productId) {
        imageUrl = `images/image-${productId}.jpg`;
      } else {
        imageUrl = 'images/placeholder.png';
      }
      card.innerHTML = `
        <div class="card-header">
          <div class="card-image-small"><img src="${imageUrl}" alt="${product.name}" onerror="this.parentElement.style.background='linear-gradient(135deg, #667eea 0%, #764ba2 100%)'"></div>
          <h3>${product.name}</h3>
        </div>
        <div class="card-body">
          <p class="category-badge">${product.category_name || 'Ostatn√≠'}</p>
          <p>${product.description || ''}</p>
        </div>
      `;
      container.appendChild(card);
    });
  }
  // Po naƒçten√≠ produkt≈Ø zobraz doporuƒçen√©
  if (products && products.length > 0) {
    renderRecommended(products);
  } else {
    // Pokud je≈°tƒõ nejsou produkty, poƒçkej na jejich naƒçten√≠
    const origLoadProducts = loadProducts;
    window.loadProducts = async function() {
      await origLoadProducts.apply(this, arguments);
      renderRecommended(products);
    };
  }
  console.log('SPA aplikace p≈ôipravena');
});
</script>
</body>
</html>
